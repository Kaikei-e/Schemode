(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(9861)}])},9861:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return z}});var r=n(5893),l=n(532),i=n(2321),o=n(3058),a=n(7294),s=n(6554),d=n(6914),c=(0,s.G)(function(e,t){let{direction:n,align:l,justify:i,wrap:o,basis:a,grow:s,shrink:c,...u}=e;return(0,r.jsx)(d.m.div,{ref:t,__css:{display:"flex",flexDirection:n,alignItems:l,justifyContent:i,flexWrap:o,flexBasis:a,flexGrow:s,flexShrink:c},...u})});c.displayName="Flex";var u=n(7030),h=n(3179),m=n(5432),x=(0,s.G)(function(e,t){let n=(0,u.mq)("Heading",e),{className:l,...i}=(0,h.Lr)(e);return(0,r.jsx)(d.m.h2,{ref:t,className:(0,m.cx)("chakra-heading",e.className),...i,__css:n})});x.displayName="Heading";var f=n(5227),[p,j]=(0,f.k)({strict:!1,name:"ButtonGroupContext"});function g(e){let{children:t,className:n,...l}=e,i=(0,a.isValidElement)(t)?(0,a.cloneElement)(t,{"aria-hidden":!0,focusable:!1}):t,o=(0,m.cx)("chakra-button__icon",n);return(0,r.jsx)(d.m.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...l,className:o,children:i})}g.displayName="ButtonIcon";var b=n(1136);function v(e){let{label:t,placement:n,spacing:l="0.5rem",children:i=(0,r.jsx)(b.$,{color:"currentColor",width:"1em",height:"1em"}),className:o,__css:s,...c}=e,u=(0,m.cx)("chakra-button__spinner",o),h="start"===n?"marginEnd":"marginStart",x=(0,a.useMemo)(()=>({display:"flex",alignItems:"center",position:t?"relative":"absolute",[h]:t?l:0,fontSize:"1em",lineHeight:"normal",...s}),[s,t,h,l]);return(0,r.jsx)(d.m.div,{className:u,...c,__css:x,children:i})}function y(...e){return t=>{e.forEach(e=>{!function(e,t){if(null!=e){if("function"==typeof e){e(t);return}try{e.current=t}catch(n){throw Error(`Cannot assign value '${t}' to ref '${e}'`)}}}(e,t)})}}v.displayName="ButtonSpinner";var w=(0,s.G)((e,t)=>{let n=j(),l=(0,u.mq)("Button",{...n,...e}),{isDisabled:i=null==n?void 0:n.isDisabled,isLoading:o,isActive:s,children:c,leftIcon:x,rightIcon:f,loadingText:p,iconSpacing:g="0.5rem",type:b,spinner:w,spinnerPlacement:S="start",className:_,as:k,...N}=(0,h.Lr)(e),M=(0,a.useMemo)(()=>{let e={...null==l?void 0:l._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...l,...!!n&&{_focus:e}}},[l,n]),{ref:T,type:B}=function(e){let[t,n]=(0,a.useState)(!e);return{ref:(0,a.useCallback)(e=>{e&&n("BUTTON"===e.tagName)},[]),type:t?"button":void 0}}(k),F={rightIcon:f,leftIcon:x,iconSpacing:g,children:c};return(0,r.jsxs)(d.m.button,{ref:function(...e){return(0,a.useMemo)(()=>y(...e),e)}(t,T),as:k,type:null!=b?b:B,"data-active":(0,m.PB)(s),"data-loading":(0,m.PB)(o),__css:M,className:(0,m.cx)("chakra-button",_),...N,disabled:i||o,children:[o&&"start"===S&&(0,r.jsx)(v,{className:"chakra-button__spinner--start",label:p,placement:"start",spacing:g,children:w}),o?p||(0,r.jsx)(d.m.span,{opacity:0,children:(0,r.jsx)(C,{...F})}):(0,r.jsx)(C,{...F}),o&&"end"===S&&(0,r.jsx)(v,{className:"chakra-button__spinner--end",label:p,placement:"end",spacing:g,children:w})]})});function C(e){let{leftIcon:t,rightIcon:n,children:l,iconSpacing:i}=e;return(0,r.jsxs)(r.Fragment,{children:[t&&(0,r.jsx)(g,{marginEnd:i,children:t}),l,n&&(0,r.jsx)(g,{marginStart:i,children:n})]})}w.displayName="Button";var S=(0,d.m)("div");S.displayName="Box";var _=(0,s.G)(function(e,t){let{size:n,centerContent:l=!0,...i}=e;return(0,r.jsx)(S,{ref:t,boxSize:n,__css:{...l?{display:"flex",alignItems:"center",justifyContent:"center"}:{},flexShrink:0,flexGrow:0},...i})});_.displayName="Square",(0,s.G)(function(e,t){let{size:n,...l}=e;return(0,r.jsx)(_,{size:n,ref:t,borderRadius:"9999px",...l})}).displayName="Circle";var k=(0,s.G)(function(e,t){let n=(0,u.mq)("Text",e),{className:l,align:i,decoration:o,casing:a,...s}=(0,h.Lr)(e),c=function(e){let t=Object.assign({},e);for(let e in t)void 0===t[e]&&delete t[e];return t}({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return(0,r.jsx)(d.m.p,{ref:t,className:(0,m.cx)("chakra-text",e.className),...c,...s,__css:n})});k.displayName="Text";var N=e=>e.isTheMode?(0,r.jsx)(b.$,{margin:2,thickness:"4px",speed:"2.5s",emptyColor:"gray.200",color:"blue.500",size:"md"}):(0,r.jsx)("div",{});let M=["Healthy Adult Mode","Vulnerable Child Mode","Dysfunctional Parent Mode"];var T=e=>(0,r.jsxs)(x,{fontSize:"x-large",textAlign:"center",fontStyle:"normal",fontWeight:"medium",m:"5",children:["Now, you're :"," ",M[e.mode]]}),B=n(4480);let F=(0,B.cn)({key:"opinionState",default:[]}),D=(0,B.cn)({key:"count",default:0});var I=e=>{let[t,n]=(0,B.FV)(F);return(0,r.jsx)(S,{borderRadius:"xl",w:"fit-content",h:"fit-content",m:5,padding:"2",children:(0,r.jsx)("ul",{children:(0,r.jsx)(c,{flexDir:"column-reverse",children:t.map(t=>{if(t.mode===e.whichMode)return(0,r.jsx)("li",{children:t.text},t.id)})})})})},[P,R]=(0,f.k)({name:"FormControlStylesContext",errorMessage:"useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormControl />\" "}),[E,q]=(0,f.k)({strict:!1,name:"FormControlContext"});(0,s.G)(function(e,t){let n=(0,u.jC)("Form",e),{getRootProps:l,htmlProps:i,...o}=function(e){let{id:t,isRequired:n,isInvalid:r,isDisabled:l,isReadOnly:i,...o}=e,s=(0,a.useId)(),d=t||`field-${s}`,c=`${d}-label`,u=`${d}-feedback`,h=`${d}-helptext`,[x,f]=(0,a.useState)(!1),[p,j]=(0,a.useState)(!1),[g,b]=(0,a.useState)(!1),v=(0,a.useCallback)((e={},t=null)=>({id:h,...e,ref:y(t,e=>{e&&j(!0)})}),[h]),w=(0,a.useCallback)((e={},t=null)=>({...e,ref:t,"data-focus":(0,m.PB)(g),"data-disabled":(0,m.PB)(l),"data-invalid":(0,m.PB)(r),"data-readonly":(0,m.PB)(i),id:void 0!==e.id?e.id:c,htmlFor:void 0!==e.htmlFor?e.htmlFor:d}),[d,l,g,r,i,c]),C=(0,a.useCallback)((e={},t=null)=>({id:u,...e,ref:y(t,e=>{e&&f(!0)}),"aria-live":"polite"}),[u]),S=(0,a.useCallback)((e={},t=null)=>({...e,...o,ref:t,role:"group","data-focus":(0,m.PB)(g),"data-disabled":(0,m.PB)(l),"data-invalid":(0,m.PB)(r),"data-readonly":(0,m.PB)(i)}),[o,l,g,r,i]);return{isRequired:!!n,isInvalid:!!r,isReadOnly:!!i,isDisabled:!!l,isFocused:!!g,onFocus:()=>b(!0),onBlur:()=>b(!1),hasFeedbackText:x,setHasFeedbackText:f,hasHelpText:p,setHasHelpText:j,id:d,labelId:c,feedbackId:u,helpTextId:h,htmlProps:o,getHelpTextProps:v,getErrorMessageProps:C,getRootProps:S,getLabelProps:w,getRequiredIndicatorProps:(0,a.useCallback)((e={},t=null)=>({...e,ref:t,role:"presentation","aria-hidden":!0,children:e.children||"*"}),[])}}((0,h.Lr)(e)),s=(0,m.cx)("chakra-form-control",e.className);return(0,r.jsx)(E,{value:o,children:(0,r.jsx)(P,{value:n,children:(0,r.jsx)(d.m.div,{...l({},t),className:s,__css:n.container})})})}).displayName="FormControl",(0,s.G)(function(e,t){let n=q(),l=R(),i=(0,m.cx)("chakra-form__helper-text",e.className);return(0,r.jsx)(d.m.div,{...null==n?void 0:n.getHelpTextProps(e,t),__css:l.helperText,className:i})}).displayName="FormHelperText";var A=["h","minH","height","minHeight"],G=(0,s.G)((e,t)=>{let n=(0,u.mq)("Textarea",e),{className:l,rows:i,...o}=(0,h.Lr)(e),a=function(e){let{isDisabled:t,isInvalid:n,isReadOnly:r,isRequired:l,...i}=function(e){var t,n,r;let l=q(),{id:i,disabled:o,readOnly:a,required:s,isRequired:d,isInvalid:c,isReadOnly:u,isDisabled:h,onFocus:x,onBlur:f,...p}=e,j=e["aria-describedby"]?[e["aria-describedby"]]:[];return(null==l?void 0:l.hasFeedbackText)&&(null==l?void 0:l.isInvalid)&&j.push(l.feedbackId),(null==l?void 0:l.hasHelpText)&&j.push(l.helpTextId),{...p,"aria-describedby":j.join(" ")||void 0,id:null!=i?i:null==l?void 0:l.id,isDisabled:null!=(t=null!=o?o:h)?t:null==l?void 0:l.isDisabled,isReadOnly:null!=(n=null!=a?a:u)?n:null==l?void 0:l.isReadOnly,isRequired:null!=(r=null!=s?s:d)?r:null==l?void 0:l.isRequired,isInvalid:null!=c?c:null==l?void 0:l.isInvalid,onFocus:(0,m.v0)(null==l?void 0:l.onFocus,x),onBlur:(0,m.v0)(null==l?void 0:l.onBlur,f)}}(e);return{...i,disabled:t,readOnly:r,required:l,"aria-invalid":(0,m.Qm)(n),"aria-required":(0,m.Qm)(l),"aria-readonly":(0,m.Qm)(r)}}(o),s=i?function(e,t=[]){let n=Object.assign({},e);for(let e of t)e in n&&delete n[e];return n}(n,A):n;return(0,r.jsx)(d.m.textarea,{ref:t,rows:i,...a,className:(0,m.cx)("chakra-textarea",l),__css:s})});G.displayName="Textarea";var O=e=>{let[t,n]=(0,a.useState)(""),[l,i]=(0,B.FV)(F),[o,s]=(0,B.FV)(D),d=e=>e+1,u=e=>{n(e.target.value)},h=()=>{t&&(s(d),i([{text:t,id:o,mode:e.whichMode},...l]),n(""))};return e.isTheMode?(0,r.jsxs)(S,{borderRadius:"xl",w:"fit-content",h:"fit-content",m:5,padding:"2",children:[(0,r.jsx)(c,{flexDir:"column"}),(0,r.jsx)(c,{flexDir:"column",alignItems:"center",children:(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),h()},children:[(0,r.jsx)(G,{bgColor:"gray.200",borderRadius:"xl",w:"min",h:"20",marginBottom:"2",isRequired:!0,onChange:e=>u(e)}),(0,r.jsx)("br",{}),(0,r.jsx)(w,{type:"submit",w:"fit-content",bgColor:"gray.200",borderRadius:"xl",onSubmit:h,children:"Submit"})]})})]}):(0,r.jsx)("div",{})};let H=async e=>{let t=JSON.stringify(e.opinions),n={path:"",filename:""};try{let r=await fetch(e.targetURL,{method:"POST",headers:{"Content-Type":"application/json"},body:t});if(!r.ok)throw Error("Network response was not ok");let l=await r.json();n={path:l.path,filename:l.filename},console.log("Success:",n)}catch(e){console.error("Error:",e)}return n};var z=()=>{var e,t,n,s,d,u;let h=function(e){let{theme:t}=(0,o.uP)(),n=(0,l.OX)();return(0,a.useMemo)(()=>(0,i.Cj)(t.direction,{...n}),[void 0,t.direction,n])}(),[m,f]=(0,a.useState)(0),[p,j]=(0,a.useState)(""),[g,b]=(0,B.FV)(F);return(0,r.jsxs)(c,{bgColor:"blackAlpha.100",flexDir:"column",w:"100%",h:"100%",overflow:"hidden",children:[(0,r.jsxs)(c,{textAlign:"center",w:"100%",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[(0,r.jsx)(x,{size:"lg",textAlign:"center",fontStyle:"normal",fontWeight:"medium",m:"5",children:"Schemode: The virtual chair work"}),(0,r.jsx)(c,{flexDir:"row",width:"100%",textAlign:"center",justify:"center",children:(0,r.jsx)(w,{width:"30%",onClick:async()=>{j((await H({targetURL:"http://localhost:9000/api/v1/exportCBTSession",opinions:g})).path)},w:"20%",backgroundColor:"teal.100",children:"Export Session Log"})}),p||(0,r.jsx)("p",{children:"Not yet created"})]}),(0,r.jsx)(T,{mode:m}),(0,r.jsxs)(c,{flexDir:"row",alignItems:"stretch",children:[(0,r.jsxs)(S,{bgColor:"green.200",w:"30%",ml:"5",mr:"5",h:"65vh",borderRadius:"3xl",overflow:"auto",children:[(0,r.jsx)(x,{fontSize:"2xl",textAlign:"center",fontStyle:"normal",fontWeight:"medium",m:"4",children:"Healthy Adult Mode"}),(0,r.jsxs)(c,{flexDir:"row",m:"5",children:[(0,r.jsx)(k,{children:"Hi, I'm healthy adult mode!"}),(0,r.jsx)(N,{isTheMode:0==m})]}),(0,r.jsx)(I,{whichMode:0}),(0,r.jsx)(O,{whichMode:m,isTheMode:0==m})]}),(0,r.jsxs)(S,{bgColor:"yellow.100",w:"30%",ml:"5",mr:"5",h:"65vh",borderRadius:"3xl",children:[(0,r.jsx)(x,{fontSize:"2xl",textAlign:"center",fontStyle:"normal",fontWeight:"medium",m:"4",children:"Vulnerable Child Mode"}),(0,r.jsxs)(c,{flexDir:"row",m:"5",children:[(0,r.jsx)(k,{children:"I'm vulnerable child mode"}),(0,r.jsx)(N,{isTheMode:1==m})]}),(0,r.jsx)(I,{whichMode:1}),(0,r.jsx)(O,{whichMode:m,isTheMode:1==m})]}),(0,r.jsxs)(S,{bgColor:"red.100",w:"30%",ml:"5",mr:"5",h:"65vh",borderRadius:"3xl",overflow:"auto",scrollBehavior:"smooth",children:[(0,r.jsx)(x,{fontSize:"2xl",textAlign:"center",fontStyle:"normal",fontWeight:"medium",m:"4",children:"Dysfunctional Parent Mode"}),(0,r.jsxs)(c,{flexDir:"row",m:"5",children:[(0,r.jsx)(k,{children:"I'm dysfunctional Parent mode"}),(0,r.jsx)(N,{isTheMode:2==m})]}),(0,r.jsx)(I,{whichMode:2}),(0,r.jsx)(O,{whichMode:m,isTheMode:2==m})]})]}),(0,r.jsx)(c,{flexDir:"column",align:"center",w:"100vw",children:(0,r.jsx)(w,{m:"10",fontSize:"3xl",bgColor:"blue.200",w:"md",borderRadius:"2xl",onClick:()=>{var e;h({position:"bottom-left",render:()=>(0,r.jsx)(S,{color:"white",p:3,bg:"blue.300",borderRadius:"2xl",children:"Mode changed!!"}),title:"",description:"Changed to next mode.",status:"success",duration:4e3,isClosable:!0}),f((e=m)>=2?e=0:e+=1)},children:"Switch!!"})})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);